<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 챗봇</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js"></script>
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body>
    <div class="chatbot-container">
        <div class="chat-header">
            <!-- <img src="images/ChatBot.png" alt="Chatbot Logo" class="chat-logo" /> -->
            <h1>KIIPS AI 챗봇</h1>
            <div class="breadcrumb">홈 &gt; 채팅</div>
        </div>
        
        <div class="chatbox" id="chatbox">
            <div class="welcome-message">
                <div class="message-container ai">
                    <img src="images/ai-assistant.png" alt="AI avatar" class="avatar" />
                    <div class="message ai">
                        안녕하세요! Spring AI 챗봇입니다. 무엇을 도와드릴까요?
                    </div>
                </div>
            </div>
        </div>
        
        <div class="input-container">
            <input 
                type="text" 
                id="messageInput" 
                placeholder="메시지를 입력하세요..." 
                maxlength="500"
            />
            <button id="sendButton">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
        
        <div class="loading-indicator" id="loadingIndicator" style="display: none;">
            <div class="spinner-container">
                <svg class="loading-spinner" width="40" height="40" viewBox="0 0 40 40">
                    <circle cx="20" cy="20" r="16" stroke="#667eea" stroke-width="4" fill="none" 
                            stroke-linecap="round" stroke-dasharray="100" stroke-dashoffset="100">
                        <animate attributeName="stroke-dasharray" 
                                dur="2s" 
                                values="0 100;50 100;100 100" 
                                repeatCount="indefinite"/>
                        <animate attributeName="stroke-dashoffset" 
                                dur="2s" 
                                values="100;50;0" 
                                repeatCount="indefinite"/>
                        <animateTransform attributeName="transform"
                                        type="rotate"
                                        values="0 20 20;360 20 20"
                                        dur="1s"
                                        repeatCount="indefinite"/>
                    </circle>
                </svg>
                <div class="loading-text">
                    답변을 생성하고 있습니다...
                    <div class="loading-timer">(<span id="loadingTimer">0.0</span>초)</div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>